<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Database · RxInferServer</title><meta name="title" content="Database · RxInferServer"/><meta property="og:title" content="Database · RxInferServer"/><meta property="twitter:title" content="Database · RxInferServer"/><meta name="description" content="A RESTful HTTP server implementation for RxInfer.jl, a reactive message passing inference engine for probabilistic models."/><meta property="og:description" content="A RESTful HTTP server implementation for RxInfer.jl, a reactive message passing inference engine for probabilistic models."/><meta property="twitter:description" content="A RESTful HTTP server implementation for RxInfer.jl, a reactive message passing inference engine for probabilistic models."/><meta property="og:url" content="https://server.rxinfer.com/database/"/><meta property="twitter:url" content="https://server.rxinfer.com/database/"/><link rel="canonical" href="https://server.rxinfer.com/database/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">RxInferServer</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../getting-started/">Getting Started</a></li><li><a class="tocitem" href="../api/design-proposal/">API design</a></li><li><a class="tocitem" href="../configuration/">Configuration</a></li><li><a class="tocitem" href="../developers-guide/">Developers guide</a></li><li><a class="tocitem" href="../models/">Models</a></li><li class="is-active"><a class="tocitem" href>Database</a><ul class="internal"><li><a class="tocitem" href="#Overview"><span>Overview</span></a></li><li><a class="tocitem" href="#Core-Functions"><span>Core Functions</span></a></li></ul></li><li><a class="tocitem" href="../logging/">Logging</a></li><li><span class="tocitem">OpenAPI Documentation</span><ul><li><input class="collapse-toggle" id="menuitem-9-1" type="checkbox"/><label class="tocitem" for="menuitem-9-1"><span class="docs-label">Server</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../openapi/README/">Overview</a></li><li><input class="collapse-toggle" id="menuitem-9-1-2" type="checkbox"/><label class="tocitem" for="menuitem-9-1-2"><span class="docs-label">Apis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../openapi/Apis/AuthenticationApi/">AuthenticationApi</a></li><li><a class="tocitem" href="../openapi/Apis/ModelsApi/">ModelsApi</a></li><li><a class="tocitem" href="../openapi/Apis/ServerApi/">ServerApi</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-1-3" type="checkbox"/><label class="tocitem" for="menuitem-9-1-3"><span class="docs-label">Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../openapi/Models/AttachMetadataToEventRequest/">AttachMetadataToEventRequest</a></li><li><a class="tocitem" href="../openapi/Models/CreateModelRequest/">CreateModelRequest</a></li><li><a class="tocitem" href="../openapi/Models/CreateModelResponse/">CreateModelResponse</a></li><li><a class="tocitem" href="../openapi/Models/CreatedModelInfo/">CreatedModelInfo</a></li><li><a class="tocitem" href="../openapi/Models/DeleteModelRequest/">DeleteModelRequest</a></li><li><a class="tocitem" href="../openapi/Models/EpisodeInfo/">EpisodeInfo</a></li><li><a class="tocitem" href="../openapi/Models/ErrorResponse/">ErrorResponse</a></li><li><a class="tocitem" href="../openapi/Models/InferRequest/">InferRequest</a></li><li><a class="tocitem" href="../openapi/Models/InferResponse/">InferResponse</a></li><li><a class="tocitem" href="../openapi/Models/LearnRequest/">LearnRequest</a></li><li><a class="tocitem" href="../openapi/Models/LearnResponse/">LearnResponse</a></li><li><a class="tocitem" href="../openapi/Models/LightweightModelDetails/">LightweightModelDetails</a></li><li><a class="tocitem" href="../openapi/Models/ModelDetails/">ModelDetails</a></li><li><a class="tocitem" href="../openapi/Models/ModelList/">ModelList</a></li><li><a class="tocitem" href="../openapi/Models/ModelState/">ModelState</a></li><li><a class="tocitem" href="../openapi/Models/NotFoundResponse/">NotFoundResponse</a></li><li><a class="tocitem" href="../openapi/Models/PingResponse/">PingResponse</a></li><li><a class="tocitem" href="../openapi/Models/ServerInfo/">ServerInfo</a></li><li><a class="tocitem" href="../openapi/Models/SuccessResponse/">SuccessResponse</a></li><li><a class="tocitem" href="../openapi/Models/TokenResponse/">TokenResponse</a></li><li><a class="tocitem" href="../openapi/Models/UnauthorizedResponse/">UnauthorizedResponse</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-2" type="checkbox"/><label class="tocitem" for="menuitem-9-2"><span class="docs-label">Client</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../openapi/README/">Overview</a></li><li><input class="collapse-toggle" id="menuitem-9-2-2" type="checkbox"/><label class="tocitem" for="menuitem-9-2-2"><span class="docs-label">Apis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../openapi/Apis/AuthenticationApi/">AuthenticationApi</a></li><li><a class="tocitem" href="../openapi/Apis/ModelsApi/">ModelsApi</a></li><li><a class="tocitem" href="../openapi/Apis/ServerApi/">ServerApi</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-2-3" type="checkbox"/><label class="tocitem" for="menuitem-9-2-3"><span class="docs-label">Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../openapi/Models/AttachMetadataToEventRequest/">AttachMetadataToEventRequest</a></li><li><a class="tocitem" href="../openapi/Models/CreateModelRequest/">CreateModelRequest</a></li><li><a class="tocitem" href="../openapi/Models/CreateModelResponse/">CreateModelResponse</a></li><li><a class="tocitem" href="../openapi/Models/CreatedModelInfo/">CreatedModelInfo</a></li><li><a class="tocitem" href="../openapi/Models/DeleteModelRequest/">DeleteModelRequest</a></li><li><a class="tocitem" href="../openapi/Models/EpisodeInfo/">EpisodeInfo</a></li><li><a class="tocitem" href="../openapi/Models/ErrorResponse/">ErrorResponse</a></li><li><a class="tocitem" href="../openapi/Models/InferRequest/">InferRequest</a></li><li><a class="tocitem" href="../openapi/Models/InferResponse/">InferResponse</a></li><li><a class="tocitem" href="../openapi/Models/LearnRequest/">LearnRequest</a></li><li><a class="tocitem" href="../openapi/Models/LearnResponse/">LearnResponse</a></li><li><a class="tocitem" href="../openapi/Models/LightweightModelDetails/">LightweightModelDetails</a></li><li><a class="tocitem" href="../openapi/Models/ModelDetails/">ModelDetails</a></li><li><a class="tocitem" href="../openapi/Models/ModelList/">ModelList</a></li><li><a class="tocitem" href="../openapi/Models/ModelState/">ModelState</a></li><li><a class="tocitem" href="../openapi/Models/NotFoundResponse/">NotFoundResponse</a></li><li><a class="tocitem" href="../openapi/Models/PingResponse/">PingResponse</a></li><li><a class="tocitem" href="../openapi/Models/ServerInfo/">ServerInfo</a></li><li><a class="tocitem" href="../openapi/Models/SuccessResponse/">SuccessResponse</a></li><li><a class="tocitem" href="../openapi/Models/TokenResponse/">TokenResponse</a></li><li><a class="tocitem" href="../openapi/Models/UnauthorizedResponse/">UnauthorizedResponse</a></li></ul></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Database</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Database</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/lazydynamics/RxInferServer" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/lazydynamics/RxInferServer/blob/main/docs/src/database.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Database"><a class="docs-heading-anchor" href="#Database">Database</a><a id="Database-1"></a><a class="docs-heading-anchor-permalink" href="#Database" title="Permalink"></a></h1><p>The <code>Database</code> module provides functionality for connecting to and interacting with MongoDB databases in RxInferServer.jl.</p><h2 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h2><p>This module uses the <a href="https://github.com/felipenoris/Mongoc.jl">Mongoc.jl</a> package to provide MongoDB integration. It implements a scoped connection pattern that ensures proper resource cleanup and provides convenient access to database resources.</p><h3 id="Configuration"><a class="docs-heading-anchor" href="#Configuration">Configuration</a><a id="Configuration-1"></a><a class="docs-heading-anchor-permalink" href="#Configuration" title="Permalink"></a></h3><p>Read more about the configuration of the database in the <a href="../configuration/#mongodb-configuration">Database Configuration</a> section.</p><h2 id="Core-Functions"><a class="docs-heading-anchor" href="#Core-Functions">Core Functions</a><a id="Core-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Core-Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Database.with_connection" href="#RxInferServer.Database.with_connection"><code>RxInferServer.Database.with_connection</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">with_connection(f::F; url::String = RXINFER_SERVER_MONGODB_URL(), database::String = RXINFER_SERVER_MONGODB_DATABASE(), check_connection::Bool = true) where {F}</code></pre><p>Establishes a connection to the MongoDB database and executes the given function with the connection and database scoped. This function automatically handles cleanup of MongoDB resources by destroying the client when the provided function completes.</p><p><strong>Arguments</strong></p><ul><li><code>f::F</code>: The function to execute with the database connection.</li><li><code>url::String</code>: The URL of the MongoDB server.</li><li><code>database::String</code>: The name of the database to use.</li></ul><pre><code class="language-julia hljs">with_connection(f; url = RXINFER_SERVER_MONGODB_URL(), database = RXINFER_SERVER_MONGODB_DATABASE(), check_connection = true) do 
    # Your code here
    client = Database.client()
    database = Database.database()
    collection = Database.collection(&quot;users&quot;)
end</code></pre><p>See also <a href="#RxInferServer.Database.client"><code>RxInferServer.Database.client</code></a>, <a href="#RxInferServer.Database.database"><code>RxInferServer.Database.database</code></a>, <a href="#RxInferServer.Database.collection"><code>RxInferServer.Database.collection</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/fecfc77160a95987e9dc7024eeaf1dcdb4590d52/src/database.jl#L35-L56">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Database.client" href="#RxInferServer.Database.client"><code>RxInferServer.Database.client</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">client()::Mongoc.Client</code></pre><p>Returns the current database client. Throws an error if called outside of a <code>with_connection</code> block.</p><p>See also <a href="#RxInferServer.Database.with_connection"><code>RxInferServer.Database.with_connection</code></a>, <a href="#RxInferServer.Database.database"><code>RxInferServer.Database.database</code></a>, <a href="#RxInferServer.Database.collection"><code>RxInferServer.Database.collection</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/fecfc77160a95987e9dc7024eeaf1dcdb4590d52/src/database.jl#L83-L89">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Database.database" href="#RxInferServer.Database.database"><code>RxInferServer.Database.database</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">database()::Mongoc.Database</code></pre><p>Returns the current database. Throws an error if called outside of a <code>with_connection</code> block.</p><p>See also <a href="#RxInferServer.Database.client"><code>RxInferServer.Database.client</code></a>, <a href="#RxInferServer.Database.with_connection"><code>RxInferServer.Database.with_connection</code></a>, <a href="#RxInferServer.Database.collection"><code>RxInferServer.Database.collection</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/fecfc77160a95987e9dc7024eeaf1dcdb4590d52/src/database.jl#L97-L103">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Database.collection" href="#RxInferServer.Database.collection"><code>RxInferServer.Database.collection</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">collection(name::String)::Mongoc.Collection</code></pre><p>Returns the collection with the given name from the current database. Throws an error if called outside of a <code>with_connection</code> block.</p><p>See also <a href="#RxInferServer.Database.client"><code>RxInferServer.Database.client</code></a>, <a href="#RxInferServer.Database.database"><code>RxInferServer.Database.database</code></a>, <a href="#RxInferServer.Database.with_connection"><code>RxInferServer.Database.with_connection</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/fecfc77160a95987e9dc7024eeaf1dcdb4590d52/src/database.jl#L109-L115">source</a></section></article><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../models/">« Models</a><a class="docs-footer-nextpage" href="../logging/">Logging »</a><div class="flexbox-break"></div><p class="footer-message">Created by <a href="https://github.com/ReactiveBayes">ReactiveBayes</a>, fully sponsored by <a href="https://lazydynamics.com/">LazyDynamics</a>, powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.9.0 on <span class="colophon-date" title="Wednesday 19 March 2025 11:13">Wednesday 19 March 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
